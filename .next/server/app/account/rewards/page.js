(()=>{var e={};e.id=134,e.ids=[134],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},39230:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d}),a(4651),a(88242),a(35866);var r=a(23191),i=a(88716),s=a(37922),n=a.n(s),o=a(95231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);a.d(t,l);let d=["",{children:["account",{children:["rewards",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,4651)),"C:\\Users\\Doovlwk\\Desktop\\pro2\\app\\account\\rewards\\page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,87421))).default(e)],apple:[async e=>(await Promise.resolve().then(a.bind(a,31228))).default(e)],openGraph:[async e=>(await Promise.resolve().then(a.bind(a,85193))).default(e)],twitter:[async e=>(await Promise.resolve().then(a.bind(a,36016))).default(e)],manifest:"/manifest.json"}}]},{layout:[()=>Promise.resolve().then(a.bind(a,88242)),"C:\\Users\\Doovlwk\\Desktop\\pro2\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,87421))).default(e)],apple:[async e=>(await Promise.resolve().then(a.bind(a,31228))).default(e)],openGraph:[async e=>(await Promise.resolve().then(a.bind(a,85193))).default(e)],twitter:[async e=>(await Promise.resolve().then(a.bind(a,36016))).default(e)],manifest:"/manifest.json"}}],c=["C:\\Users\\Doovlwk\\Desktop\\pro2\\app\\account\\rewards\\page.tsx"],u="/account/rewards/page",m={require:a,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/account/rewards/page",pathname:"/account/rewards",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},87816:(e,t,a)=>{Promise.resolve().then(a.bind(a,66333))},66333:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>x});var r=a(10326),i=a(17577),s=a(16856),n=a(90976),o=a(57450),l=a(90434),d=a(71684);let c=i.forwardRef(function({title:e,titleId:t,...a},r){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?i.createElement("title",{id:t},e):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"}))}),u=i.forwardRef(function({title:e,titleId:t,...a},r){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?i.createElement("title",{id:t},e):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 18.75h-9m9 0a3 3 0 0 1 3 3h-15a3 3 0 0 1 3-3m9 0v-3.375c0-.621-.503-1.125-1.125-1.125h-.871M7.5 18.75v-3.375c0-.621.504-1.125 1.125-1.125h.872m5.007 0H9.497m5.007 0a7.454 7.454 0 0 1-.982-3.172M9.497 14.25a7.454 7.454 0 0 0 .981-3.172M5.25 4.236c-.982.143-1.954.317-2.916.52A6.003 6.003 0 0 0 7.73 9.728M5.25 4.236V4.5c0 2.108.966 3.99 2.48 5.228M5.25 4.236V2.721C7.456 2.41 9.71 2.25 12 2.25c2.291 0 4.545.16 6.75.47v1.516M7.73 9.728a6.726 6.726 0 0 0 2.748 1.35m8.272-6.842V4.5c0 2.108-.966 3.99-2.48 5.228m2.48-5.492a46.32 46.32 0 0 1 2.916.52 6.003 6.003 0 0 1-5.395 4.972m0 0a6.726 6.726 0 0 1-2.749 1.35m0 0a6.772 6.772 0 0 1-3.044 0"}))}),m=i.forwardRef(function({title:e,titleId:t,...a},r){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?i.createElement("title",{id:t},e):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 11.25v8.25a1.5 1.5 0 0 1-1.5 1.5H5.25a1.5 1.5 0 0 1-1.5-1.5v-8.25M12 4.875A2.625 2.625 0 1 0 9.375 7.5H12m0-2.625V7.5m0-2.625A2.625 2.625 0 1 1 14.625 7.5H12m0 0V21m-8.625-9.75h18c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125h-18c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125Z"}))});var p=a(83401),g=a(36902);let x=()=>{var e;let{language:t}=(0,n.Z)(),{user:a}=(0,o.a)(),[x,h]=(0,i.useState)(null),[y,f]=(0,i.useState)(!0),[b,w]=(0,i.useState)("rewards"),[v,k]=(0,i.useState)(""),[j,N]=(0,i.useState)([]);(0,i.useEffect)(()=>{P(),E()},[]);let E=async()=>{try{let e=localStorage.getItem("user_token"),t=JSON.parse(localStorage.getItem("user_data")||"{}"),a=await fetch("/api/discounts",{headers:{Authorization:`Bearer ${e}`,"user-id":t.id}});if(a.ok){let e=await a.json();N(e.redeemedDiscounts||[])}}catch(e){console.error("Error fetching redeemed discounts:",e)}},P=async()=>{try{f(!0),h({totalPoints:1250,availablePoints:850,usedPoints:400,level:"Gold",nextLevelPoints:500,pointsToNextLevel:250,pointsExpiryDate:"2025-12-31",availableRewards:[{id:"REWARD-001",name:"خصم 10 ريال",description:"خصم 10 ريال على أي طلب",pointsRequired:100,type:"discount",value:10,available:!0},{id:"REWARD-002",name:"خصم 20 ريال",description:"خصم 20 ريال على أي طلب",pointsRequired:200,type:"discount",value:20,available:!0},{id:"REWARD-003",name:"قهوة مجانية",description:"قهوة لاتيه مجانية",pointsRequired:150,type:"free_item",value:15,available:!0},{id:"REWARD-004",name:"كيك مجاني",description:"قطعة كيك مجانية",pointsRequired:200,type:"free_item",value:12,available:!0},{id:"REWARD-005",name:"خصم 50 ريال",description:"خصم 50 ريال على طلب بقيمة 100 ريال أو أكثر",pointsRequired:500,type:"discount",value:50,available:!0}],pointsHistory:[{date:"2025-01-15",points:45,description:"طلب #ORD-001",type:"earned"},{date:"2025-01-14",points:52,description:"طلب #ORD-002",type:"earned"},{date:"2025-01-13",points:28,description:"طلب #ORD-003",type:"earned"},{date:"2025-01-12",points:-200,description:"استبدال - خصم 20 ريال",type:"redeemed"},{date:"2025-01-11",points:55,description:"طلب #ORD-005",type:"earned"},{date:"2025-01-10",points:24,description:"طلب #ORD-006",type:"earned"},{date:"2025-01-09",points:67,description:"طلب #ORD-007",type:"earned"},{date:"2025-01-05",points:-200,description:"استبدال - قهوة مجانية",type:"redeemed"}]})}catch(e){console.error("Error fetching rewards:",e)}finally{f(!1)}},R=async e=>{if(x&&x.availablePoints<e.pointsRequired){k("ar"===t?"نقاط غير كافية":"Insufficient points");return}try{let a=localStorage.getItem("user_token"),r=JSON.parse(localStorage.getItem("user_data")||"{}");if("discount"===e.type){let i=await fetch("/api/discounts",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({discountId:e.id,userId:r.id,pointsUsed:e.pointsRequired,rewardName:e.name})});if(!i.ok){let e=await i.json();k(e.error||("ar"===t?"حدث خطأ في استبدال الخصم":"Error redeeming discount"));return}let s=await i.json();N(e=>[s.redeemedDiscount,...e])}if("free_item"===e.type){let i=await fetch("/api/add-to-cart",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({userId:r.id,product:{id:e.id,name:e.name,price:e.value,image:"\uD83C\uDF81"},isFreeProduct:!0})});if(!i.ok){let e=await i.json();k(e.error||("ar"===t?"حدث خطأ في إضافة المنتج إلى السلة":"Error adding product to cart"));return}}let i=await fetch("/api/rewards",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({rewardId:e.id,points:e.pointsRequired,rewardName:e.name})});if(i.ok){let a=await i.json(),r="";if(r="discount"===e.type?"ar"===t?"تم استبدال الخصم بنجاح! يمكنك استخدامه في سلة التسوق":"Discount redeemed successfully! You can use it in your cart":"free_item"===e.type?"ar"===t?"تم إضافة المنتج المجاني إلى سلة التسوق بنجاح!":"Free product added to cart successfully!":"ar"===t?"تم استبدال المكافأة بنجاح!":"Reward redeemed successfully!",k(r),x&&void 0!==a.newAvailablePoints&&h(t=>t?{...t,availablePoints:a.newAvailablePoints,usedPoints:t.usedPoints+e.pointsRequired}:null),x){let t={date:new Date().toISOString().split("T")[0],points:-e.pointsRequired,description:`استبدال - ${e.name}`,type:"redeemed"};h(e=>e?{...e,pointsHistory:[t,...e.pointsHistory]}:null)}}else{let e=await i.json();k(e.message||("ar"===t?"حدث خطأ في الاستبدال":"Error redeeming reward"))}}catch(e){k("ar"===t?"حدث خطأ في الاستبدال":"Error redeeming reward")}},D=async()=>{try{let e=JSON.parse(localStorage.getItem("user_data")||"{}").email||"customer@sakura-cafe.com";k("ar"===t?"جاري إرسال التنبيه...":"Sending notification...");let a=await fetch("/api/send-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userEmail:e,expiryDate:x?.pointsExpiryDate||"2025-02-15",points:x?.availablePoints||850})});if(a.ok){let r=await a.json();k("ar"===t?`تم إرسال التنبيه بنجاح إلى ${e}!`:`Notification sent successfully to ${e}!`),console.log("\uD83D\uDCE7 تفاصيل الإيميل المرسل:",r),setTimeout(()=>k(""),5e3)}else{let e=await a.json();k(e.message||("ar"===t?"فشل في إرسال التنبيه":"Failed to send notification"))}}catch(e){console.error("خطأ في إرسال التنبيه:",e),k("ar"===t?"حدث خطأ في إرسال التنبيه":"Error sending notification")}},S=async()=>{try{let e=JSON.parse(localStorage.getItem("user_data")||"{}").email||"customer@sakura-cafe.com";k("ar"===t?"جاري إرسال الإيميل الحقيقي...":"Sending real email...");let a=await fetch("/api/send-real-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userEmail:e,expiryDate:x?.pointsExpiryDate||"2025-02-15",points:x?.availablePoints||850})});if(a.ok){let r=await a.json();r.realEmail?k("ar"===t?`تم إرسال الإيميل الحقيقي بنجاح إلى ${e}!`:`Real email sent successfully to ${e}!`):k("ar"===t?`تم إرسال الإيميل (محاكاة) إلى ${e}!`:`Email sent (simulated) to ${e}!`),console.log("\uD83D\uDCE7 تفاصيل الإيميل المرسل:",r),setTimeout(()=>k(""),5e3)}else{let e=await a.json();k(e.message||("ar"===t?"فشل في إرسال الإيميل":"Failed to send email"))}}catch(e){console.error("خطأ في إرسال الإيميل:",e),k("ar"===t?"حدث خطأ في إرسال الإيميل":"Error sending email")}};return y?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-sakura-50/20 via-white to-deep-50/20 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-sakura-500 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 font-arabic",children:"ar"===t?"جاري التحميل...":"Loading..."})]})}):x?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-sakura-50/20 via-white to-deep-50/20 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 py-12",children:(0,r.jsxs)("div",{className:"container mx-auto px-4 max-w-6xl",children:[r.jsx("div",{className:"mb-6",children:(0,r.jsxs)(l.default,{href:"/",className:"inline-flex items-center text-sakura-50 hover:text-sakura-100 transition-colors font-arabic",children:[r.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"ar"===t?"العودة إلى الصفحة الرئيسية":"Back to Home"]})}),(0,r.jsxs)(s.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-8",children:[r.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-full flex items-center justify-center mx-auto mb-6",children:r.jsx(d.Z,{className:"w-10 h-10 text-white"})}),r.jsx("h1",{className:"text-4xl font-bold text-gray-800 dark:text-white mb-4 font-arabic",children:"ar"===t?"برنامج المكافآت":"Rewards Program"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-lg font-arabic",children:"ar"===t?"احصل على نقاط مع كل طلب واستبدلها بمكافآت رائعة":"Earn points with every order and redeem them for amazing rewards"})]}),(0,r.jsxs)(s.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"grid md:grid-cols-3 gap-6 mb-8",children:[(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 text-center",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-400 to-green-600 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(c,{className:"w-6 h-6 text-white"})}),r.jsx("h3",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-2 font-english",children:x.availablePoints}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 font-arabic",children:"ar"===t?"النقاط المتاحة":"Available Points"})]}),(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 text-center",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-400 to-blue-600 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(u,{className:"w-6 h-6 text-white"})}),r.jsx("h3",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-2 font-arabic",children:x.level}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 font-arabic",children:"ar"===t?"المستوى الحالي":"Current Level"})]}),(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 text-center",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-400 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(m,{className:"w-6 h-6 text-white"})}),r.jsx("h3",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-2 font-english",children:x.totalPoints}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 font-arabic",children:"ar"===t?"إجمالي النقاط":"Total Points"})]})]}),(0,r.jsxs)(s.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 mb-8",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white font-arabic",children:"ar"===t?"التقدم للمستوى التالي":"Progress to Next Level"}),(0,r.jsxs)("span",{className:"text-sm text-gray-600 dark:text-gray-300 font-arabic",children:[x.pointsToNextLevel," ","ar"===t?"نقطة متبقية":"points remaining"]})]}),r.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3",children:r.jsx("div",{className:`bg-gradient-to-r ${(e=>{switch(e){case"Bronze":return"from-yellow-600 to-yellow-800";case"Silver":return"from-gray-400 to-gray-600";case"Gold":default:return"from-yellow-400 to-yellow-600";case"Platinum":return"from-purple-400 to-purple-600"}})(x.level)} h-3 rounded-full transition-all duration-500`,style:{width:`${(x.totalPoints-x.usedPoints)/x.nextLevelPoints*100}%`}})}),(0,r.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-600",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-300 font-arabic",children:"ar"===t?"تاريخ انتهاء النقاط:":"Points Expiry Date:"}),(0,r.jsxs)("span",{className:"text-sm font-semibold text-orange-600 dark:text-orange-400 font-arabic",children:[(e=new Date(x.pointsExpiryDate),new Intl.DateTimeFormat("ar-SA-u-ca-islamic",{year:"numeric",month:"numeric",day:"numeric"}).format(e))," هـ"]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("button",{onClick:D,className:"w-full bg-orange-500 hover:bg-orange-600 text-white py-2 px-4 rounded-lg font-arabic transition-colors flex items-center justify-center gap-2 text-sm",children:[r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),"ar"===t?"إرسال تنبيه (محاكاة)":"Send Notification (Simulated)"]}),(0,r.jsxs)("button",{onClick:S,className:"w-full bg-green-500 hover:bg-green-600 text-white py-2 px-4 rounded-lg font-arabic transition-colors flex items-center justify-center gap-2 text-sm",children:[r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),"ar"===t?"إرسال إيميل حقيقي":"Send Real Email"]})]})]})]}),(0,r.jsxs)(s.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},className:"flex space-x-4 mb-8",children:[r.jsx("button",{onClick:()=>w("rewards"),className:`px-6 py-3 rounded-lg font-arabic transition-colors ${"rewards"===b?"bg-sakura-500 text-white":"bg-white dark:bg-gray-800 text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:"ar"===t?"المكافآت المتاحة":"Available Rewards"}),r.jsx("button",{onClick:()=>w("history"),className:`px-6 py-3 rounded-lg font-arabic transition-colors ${"history"===b?"bg-sakura-500 text-white":"bg-white dark:bg-gray-800 text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:"ar"===t?"سجل النقاط":"Points History"})]}),(0,r.jsxs)(s.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.35},className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 mb-8",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-4 font-arabic",children:"ar"===t?"الخصومات المستبدلة بالنقاط":"Redeemed Discounts"}),r.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:j.length>0?j.filter(e=>"available"===e.status).map((e,a)=>(0,r.jsxs)("div",{className:"p-4 border border-green-200 dark:border-green-700 rounded-lg bg-green-50 dark:bg-green-900/20",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-semibold text-green-600 dark:text-green-400 font-arabic",children:e.rewardName}),(0,r.jsxs)("span",{className:"text-xs text-green-500 dark:text-green-400",children:[e.pointsUsed," ","ar"===t?"نقطة":"points"]})]}),r.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-300 font-arabic mb-2",children:e.discountDetails.description}),r.jsx("div",{className:"text-xs text-orange-600 dark:text-orange-400 font-arabic",children:"ar"===t?"متاح للاستخدام في سلة التسوق":"Available for use in cart"}),r.jsx("div",{className:"text-xs text-blue-600 dark:text-blue-400 font-arabic mt-1",children:"ar"===t?`تم الاستبدال: ${new Date(e.redeemedAt).toLocaleDateString("ar-SA")}`:`Redeemed: ${new Date(e.redeemedAt).toLocaleDateString("en-US")}`})]},e.id)):(0,r.jsxs)("div",{className:"col-span-full text-center py-8",children:[r.jsx("div",{className:"text-gray-500 dark:text-gray-400 font-arabic",children:"ar"===t?"لا توجد خصومات مستبدلة بالنقاط":"No redeemed discounts available"}),r.jsx("div",{className:"text-sm text-gray-400 dark:text-gray-500 mt-2 font-arabic",children:"ar"===t?"استبدل نقاطك للحصول على خصومات":"Redeem your points to get discounts"})]})})]}),v&&r.jsx(s.E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6 p-4 bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 rounded-lg font-arabic",children:v}),"rewards"===b?r.jsx(s.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:x.availableRewards.map((e,a)=>(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-sakura-400 to-sakura-600 rounded-full flex items-center justify-center",children:r.jsx(m,{className:"w-6 h-6 text-white"})}),(0,r.jsxs)("span",{className:"text-sm font-semibold text-sakura-600 dark:text-sakura-400 font-arabic",children:[e.pointsRequired," ","ar"===t?"نقطة":"points"]})]}),r.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-2 font-arabic",children:e.name}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm mb-4 font-arabic",children:e.description}),r.jsx("button",{onClick:()=>R(e),disabled:x.availablePoints<e.pointsRequired,className:`w-full py-2 px-4 rounded-lg font-arabic transition-colors ${x.availablePoints>=e.pointsRequired?"bg-sakura-500 hover:bg-sakura-600 text-white":"bg-gray-300 dark:bg-gray-600 text-gray-500 dark:text-gray-400 cursor-not-allowed"}`,children:"ar"===t?"استبدال":"Redeem"})]},e.id))}):(0,r.jsxs)(s.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-6 font-arabic",children:"ar"===t?"سجل النقاط":"Points History"}),r.jsx("div",{className:"space-y-4",children:x.pointsHistory.map((e,t)=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:["earned"===e.type?r.jsx(p.Z,{className:"w-6 h-6 text-green-500"}):r.jsx(g.Z,{className:"w-6 h-6 text-red-500"}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"font-semibold text-gray-800 dark:text-white font-arabic",children:e.description}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 font-arabic",children:e.date})]})]}),(0,r.jsxs)("span",{className:`font-semibold ${e.points>0?"text-green-600":"text-red-600"}`,children:[e.points>0?"+":"",e.points]})]},t))})]})]})}):r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-sakura-50/20 via-white to-deep-50/20 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 flex items-center justify-center",children:r.jsx("div",{className:"text-center",children:r.jsx("p",{className:"text-gray-600 dark:text-gray-300 font-arabic",children:"ar"===t?"حدث خطأ في تحميل البيانات":"Error loading data"})})})}},4651:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});let r=(0,a(68570).createProxy)(String.raw`C:\Users\Doovlwk\Desktop\pro2\app\account\rewards\page.tsx#default`)},31228:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s}),a(19510);var r=a(66621);let i={runtime:"edge",alt:"Sakura Cafe Apple Icon",contentType:"image/png",size:{width:180,height:180}};async function s(e){let{__metadata_id__:t,...a}=e.params,s=(0,r.fillMetadataSegment)(".",a,"apple-icon"),{generateImageMetadata:n}=i;function o(e,t){let a={alt:e.alt,type:e.contentType||"image/png",url:s+(t?"/"+t:"")+"?57fefbc3f9a64b36"},{size:r}=e;return r&&(a.sizes=r.width+"x"+r.height),a}return n?(await n({params:a})).map((e,t)=>{let a=(e.id||t)+"";return o(e,a)}):[o(i,"")]}},87421:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s}),a(19510);var r=a(66621);let i={runtime:"edge",alt:"Sakura Cafe Icon",contentType:"image/png",size:{width:32,height:32}};async function s(e){let{__metadata_id__:t,...a}=e.params,s=(0,r.fillMetadataSegment)(".",a,"icon"),{generateImageMetadata:n}=i;function o(e,t){let a={alt:e.alt,type:e.contentType||"image/png",url:s+(t?"/"+t:"")+"?803328229ce0983f"},{size:r}=e;return r&&(a.sizes=r.width+"x"+r.height),a}return n?(await n({params:a})).map((e,t)=>{let a=(e.id||t)+"";return o(e,a)}):[o(i,"")]}},85193:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s}),a(19510);var r=a(66621);let i={runtime:"edge",alt:"Sakura Cafe - مقهى ساكورا",contentType:"image/png",size:{width:1200,height:630}};async function s(e){let{__metadata_id__:t,...a}=e.params,s=(0,r.fillMetadataSegment)(".",a,"opengraph-image"),{generateImageMetadata:n}=i;function o(e,t){let a={alt:e.alt,type:e.contentType||"image/png",url:s+(t?"/"+t:"")+"?aa0374e5cccb5f27"},{size:r}=e;return r&&(a.width=r.width,a.height=r.height),a}return n?(await n({params:a})).map((e,t)=>{let a=(e.id||t)+"";return o(e,a)}):[o(i,"")]}},36016:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s}),a(19510);var r=a(66621);let i={runtime:"edge",alt:"Sakura Cafe - مقهى ساكورا",contentType:"image/png",size:{width:1200,height:630}};async function s(e){let{__metadata_id__:t,...a}=e.params,s=(0,r.fillMetadataSegment)(".",a,"twitter-image"),{generateImageMetadata:n}=i;function o(e,t){let a={alt:e.alt,type:e.contentType||"image/png",url:s+(t?"/"+t:"")+"?aa0374e5cccb5f27"},{size:r}=e;return r&&(a.width=r.width,a.height=r.height),a}return n?(await n({params:a})).map((e,t)=>{let a=(e.id||t)+"";return o(e,a)}):[o(i,"")]}},83401:(e,t,a)=>{"use strict";a.d(t,{Z:()=>i});var r=a(17577);let i=r.forwardRef(function({title:e,titleId:t,...a},i){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},a),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))})},71684:(e,t,a)=>{"use strict";a.d(t,{Z:()=>i});var r=a(17577);let i=r.forwardRef(function({title:e,titleId:t,...a},i){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},a),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"}))})},36902:(e,t,a)=>{"use strict";a.d(t,{Z:()=>i});var r=a(17577);let i=r.forwardRef(function({title:e,titleId:t,...a},i){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},a),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))})}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[948,248,621,856,434,563],()=>a(39230));module.exports=r})();