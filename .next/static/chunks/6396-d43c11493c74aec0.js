"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6396],{8349:function(e,a,t){var r=t(7437),s=t(429),o=t(5674),n=t(1151),i=t(3145),l=t(9057);a.Z=()=>{let{t:e}=(0,l.Z)(),a={main:[{name:e("nav.home"),href:"#home"},{name:e("nav.about"),href:"#about"},{name:e("nav.menu"),href:"#menu"},{name:e("nav.branches"),href:"#branches"},{name:e("nav.contact"),href:"#contact"}]},t=[{icon:(0,r.jsx)(o.Zf_,{}),name:e("footer.social.instagram"),href:"https://www.instagram.com/sakuraacafe/?hl=ar",color:"hover:text-pink-600"},{icon:(0,r.jsx)(n.LCd,{}),name:e("footer.social.twitter"),href:"https://x.com/sakuraacafee/highlights",color:"hover:text-blue-400"},{icon:(0,r.jsx)(o.ltd,{}),name:e("footer.social.linkedin"),href:"https://sa.linkedin.com/company/sakura-caf%C3%A9",color:"hover:text-blue-600"},{icon:(0,r.jsx)(o.xpo,{}),name:e("footer.social.whatsapp"),href:"https://api.whatsapp.com/send/?phone=00966500707832&text&type=phone_number&app_absent=0",color:"hover:text-green-600"}];return(0,r.jsxs)("footer",{id:"footer",className:"bg-gradient-to-br from-[#02393E] to-[#0D484E] dark:from-gray-900 dark:to-black text-white",children:[(0,r.jsxs)("div",{className:"container mx-auto px-4 py-16",children:[(0,r.jsxs)("div",{className:"grid lg:grid-cols-3 gap-8",children:[(0,r.jsx)("div",{className:"lg:col-span-2",children:(0,r.jsxs)(s.E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3 space-x-reverse mb-6",children:[(0,r.jsx)("div",{className:"relative w-12 h-12 bg-gradient-to-br from-[#045B62] to-[#02393E] rounded-full p-2 shadow-lg",children:(0,r.jsx)(i.default,{src:"/images/logo.png",alt:"مقهى ساكورا",fill:!0,className:"object-contain"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-2xl font-bold",children:e("brand.name")}),(0,r.jsx)("p",{className:"text-gray-200 english-text",children:e("footer.brandEnglish")})]})]}),(0,r.jsx)("p",{className:"text-gray-200 mb-6 leading-relaxed",children:e("footer.description")}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 text-gray-200",children:[(0,r.jsx)(o.I7T,{className:"text-white"}),(0,r.jsx)("span",{children:"+966 50 123 4567"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3 text-gray-200",children:[(0,r.jsx)(o.SRX,{className:"text-white"}),(0,r.jsx)("span",{children:"info@sakuraacafe.com"})]})]})]})}),(0,r.jsx)("div",{className:"lg:col-span-1",children:(0,r.jsxs)(s.E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},children:[(0,r.jsx)("h4",{className:"text-lg font-bold text-sakura-300 mb-4",children:e("footer.quickLinks")}),(0,r.jsx)("ul",{className:"space-y-2",children:a.main.map(e=>(0,r.jsx)("li",{children:(0,r.jsx)("a",{href:e.href,className:"text-coffee-200 hover:text-sakura-300 transition-colors duration-300 text-sm",children:e.name})},e.name))})]})})]}),(0,r.jsx)(s.E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"border-t border-coffee-700 mt-12 pt-8",children:(0,r.jsxs)("div",{className:"flex items-center justify-center gap-6",children:[(0,r.jsxs)("span",{className:"text-coffee-200 font-medium",children:[e("footer.followUs"),":"]}),t.map(e=>(0,r.jsx)("a",{href:e.href,target:e.href.startsWith("http")?"_blank":"_self",rel:e.href.startsWith("http")?"noopener noreferrer":void 0,className:"w-10 h-10 bg-coffee-800 text-coffee-200 rounded-full flex items-center justify-center transition-all duration-300 ".concat(e.color," hover:bg-coffee-700"),title:e.name,children:e.icon},e.name))]})})]}),(0,r.jsx)("div",{className:"border-t border-coffee-700",children:(0,r.jsx)("div",{className:"container mx-auto px-4 py-6",children:(0,r.jsx)("div",{className:"text-center",children:(0,r.jsx)("div",{className:"text-coffee-300 text-sm",children:e("footer.copyright")})})})}),(0,r.jsx)(s.E.button,{onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},className:"fixed bottom-8 left-8 w-12 h-12 bg-sakura-600 hover:bg-sakura-700 text-white rounded-full shadow-lg flex items-center justify-center transition-all duration-300 hover:scale-110 z-50",whileHover:{scale:1.1},whileTap:{scale:.9},children:(0,r.jsx)(o.ZTc,{})})]})}},5737:function(e,a,t){var r=t(7437),s=t(2265),o=t(7648),n=t(9376),i=t(9778),l=t(2871),c=t(6422),d=t(9055),m=t(9453),u=t(9152),h=t(9241),x=t(1556),g=t(338),b=t(7165),f=t(3042),p=t(9158),v=t(1),y=t(4355),k=t(9057),j=t(3985),w=t(5151),N=t(2198),S=t(2508);a.Z=()=>{let[e,a]=(0,s.useState)(!1),[t,_]=(0,s.useState)(!1),[E,C]=(0,s.useState)("home"),[Z,z]=(0,s.useState)(!1),[T,I]=(0,s.useState)(""),[O,L]=(0,s.useState)(!1),[q,J]=(0,s.useState)(!1),{language:P,changeLanguage:B,t:M,isRTL:A}=(0,k.Z)(),{isDark:D,toggleTheme:W}=(0,w.F)(),{isAuthenticated:F,user:H,logout:V}=(0,j.a)(),{totalItems:U}=(0,N.j)(),Y=(0,n.usePathname)();(0,s.useEffect)(()=>{let e=()=>{_(window.scrollY>10);let e=window.scrollY+150,a="home";for(let t of["home","about","menu","branches","contact"]){let r=document.getElementById(t);if(r){let s=r.offsetTop,o=r.offsetHeight;if(e>=s&&e<s+o){a=t;break}}}C(a)};return window.addEventListener("scroll",e),setTimeout(e,500),()=>window.removeEventListener("scroll",e)},[]),(0,s.useEffect)(()=>{a(!1)},[Y]),(0,s.useEffect)(()=>{let e=e=>{let a=e.target;O&&!a.closest(".account-menu-container")&&L(!1)};return document.addEventListener("click",e),()=>document.removeEventListener("click",e)},[O]);let R=[{href:"#home",section:"home",label:M("nav.home"),icon:i.Z},{href:"#menu",section:"menu",label:M("nav.menu"),icon:l.Z},{href:"#branches",section:"branches",label:M("nav.branches"),icon:c.Z},{href:"#about",section:"about",label:M("nav.about"),icon:d.Z},{href:"#contact",section:"contact",label:M("nav.contact"),icon:m.Z}],X=[...R,{href:"/admin",label:M("nav.admin"),icon:u.Z},{href:"/pos",label:M("nav.pos"),icon:h.Z},{href:"/test-features",label:"اختبار المميزات",icon:u.Z}],G=(e,a)=>a?E===a:"/"===e?"/"===Y:"/admin"===e?Y.startsWith("/admin"):"/pos"===e?Y.startsWith("/pos"):Y.startsWith(e),K=(e,a,t)=>{if(a.startsWith("#")){e.preventDefault();let t=document.getElementById(a.substring(1));t?setTimeout(()=>{let e=t.offsetTop-100;window.scrollTo({top:Math.max(0,e),behavior:"smooth"})},100):console.warn('Element with id "'.concat(a.substring(1),'" not found'))}};return(0,r.jsxs)("nav",{className:"fixed top-0 left-0 right-0 z-40 transition-all duration-300 ".concat(t?"bg-white/95 dark:bg-deep-50/95 backdrop-blur-md shadow-lg dark:shadow-black/20":"bg-white/90 dark:bg-deep-50/90 backdrop-blur-sm"),dir:A?"rtl":"ltr",children:[(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 lg:px-6",children:[(0,r.jsxs)("div",{className:"flex items-center h-16 md:h-18 lg:h-20",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3 space-x-reverse order-1",children:[(0,r.jsxs)("div",{className:"hidden lg:flex items-center space-x-2 space-x-reverse",children:[(0,r.jsxs)(o.default,{href:"/cart",className:"navbar-icon-button flex items-center justify-center w-8 h-8 rounded-lg bg-deep-50 dark:bg-gray-700 text-white hover:bg-sakura-50 dark:hover:bg-sakura-50 transition-all duration-300 hover:scale-105 shadow-md relative z-50",title:M("navbar.shoppingCart"),children:[(0,r.jsx)(h.Z,{className:"w-4 h-4 relative z-10"}),U>0&&(0,r.jsx)("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-bold",children:U})]}),(0,r.jsx)("button",{onClick:()=>z(!Z),className:"navbar-icon-button flex items-center justify-center w-8 h-8 rounded-lg bg-deep-50 dark:bg-gray-700 text-white hover:bg-sakura-50 dark:hover:bg-sakura-50 transition-all duration-300 hover:scale-105 shadow-md relative z-10",title:M("navbar.search"),children:(0,r.jsx)(x.Z,{className:"w-4 h-4 relative z-10"})}),(0,r.jsxs)("div",{className:"relative account-menu-container",children:[(0,r.jsx)("button",{onClick:()=>L(!O),className:"navbar-icon-button flex items-center justify-center w-8 h-8 rounded-lg transition-all duration-300 hover:scale-105 shadow-md relative z-10 ".concat(O||F?"bg-sakura-50 text-white ring-2 ring-sakura-50/50":"bg-deep-50 dark:bg-gray-700 text-white hover:bg-sakura-50 dark:hover:bg-sakura-50"),title:F?"".concat(M("navbar.welcome")," ").concat((null==H?void 0:H.username)||M("navbar.user")):M("navbar.account"),children:(0,r.jsx)(g.Z,{className:"w-4 h-4 relative z-10"})}),O&&(0,r.jsx)("div",{className:"absolute top-full left-0 mt-2 w-64 bg-white dark:bg-gray-800 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-600 overflow-hidden z-50",children:F?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"px-4 py-4 bg-gradient-to-r from-sakura-50/10 to-deep-50/10 border-b border-gray-200 dark:border-gray-600",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsxs)("p",{className:"text-sm font-bold text-gray-900 dark:text-white font-arabic mb-1",children:[M("navbar.welcome"),"، ",(null==H?void 0:H.fullName)||(null==H?void 0:H.username)]}),(0,r.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-arabic",children:(null==H?void 0:H.role)==="customer"?M("navbar.premiumMember"):null==H?void 0:H.role}),(null==H?void 0:H.role)==="customer"&&(null==H?void 0:H.loyaltyPoints)&&(0,r.jsx)("div",{className:"mt-2 inline-flex items-center bg-sakura-50/20 px-3 py-1 rounded-full",children:(0,r.jsxs)("span",{className:"text-xs text-sakura-50 font-arabic font-medium",children:["⭐ ",H.loyaltyPoints," ",M("navbar.rewardPoints")]})})]})}),(null==H?void 0:H.role)==="customer"&&(0,r.jsxs)("div",{className:"py-2",children:[(0,r.jsxs)(o.default,{href:"/account/profile",className:"flex items-center px-4 py-3 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors font-arabic",onClick:()=>L(!1),children:[(0,r.jsx)(g.Z,{className:"w-4 h-4 ml-3 text-gray-400"}),M("navbar.profile")]}),(0,r.jsxs)(o.default,{href:"/account/orders",className:"flex items-center px-4 py-3 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors font-arabic",onClick:()=>L(!1),children:[(0,r.jsx)(h.Z,{className:"w-4 h-4 ml-3 text-gray-400"}),M("navbar.myOrders")]}),(0,r.jsxs)(o.default,{href:"/account/rewards",className:"flex items-center px-4 py-3 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors font-arabic",onClick:()=>L(!1),children:[(0,r.jsx)("span",{className:"w-4 h-4 ml-3 text-sakura-50 text-sm",children:"⭐"}),M("navbar.rewardsProgram")]})]}),(0,r.jsx)("div",{className:"border-t border-gray-200 dark:border-gray-600 p-2",children:(0,r.jsxs)("button",{onClick:()=>{V(),L(!1)},className:"w-full flex items-center justify-center px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors font-arabic",children:[(0,r.jsx)(b.Z,{className:"w-4 h-4 ml-2"}),M("navbar.logout")]})})]}):(0,r.jsxs)("div",{className:"p-4",children:[(0,r.jsxs)("div",{className:"text-center mb-4",children:[(0,r.jsx)("p",{className:"text-sm font-bold text-gray-900 dark:text-white font-arabic mb-2",children:M("navbar.welcomeToSakura")}),(0,r.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-arabic leading-relaxed",children:M("navbar.loginBenefits")})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("button",{className:"w-full px-4 py-2.5 bg-gradient-to-r from-sakura-50 to-deep-50 text-white rounded-lg text-sm font-arabic font-medium hover:shadow-lg transition-all duration-300",onClick:()=>{L(!1),J(!0)},children:M("navbar.login")}),(0,r.jsx)("button",{className:"w-full px-4 py-2.5 border-2 border-sakura-50 text-sakura-50 rounded-lg text-sm font-arabic font-medium hover:bg-sakura-50/10 transition-colors",onClick:()=>{L(!1),window.location.href="/auth/register"},children:M("navbar.createAccount")})]})]})})]})]}),(0,r.jsxs)("div",{className:"hidden sm:flex items-center space-x-2 space-x-reverse",children:[(0,r.jsxs)("button",{onClick:()=>B("ar"===P?"en":"ar"),className:"flex items-center gap-1 px-2 py-1.5 rounded-lg transition-all duration-300 hover:scale-105 bg-deep-50 dark:bg-gray-700 text-white hover:bg-sakura-50 dark:hover:bg-sakura-50 shadow-md text-xs",title:M("ar"===P?"navbar.switchToEnglish":"navbar.switchToArabic"),children:[(0,r.jsx)(f.Z,{className:"w-3.5 h-3.5"}),(0,r.jsx)("span",{className:"font-medium font-arabic",children:"ar"===P?"EN":"عربي"})]}),(0,r.jsxs)("button",{onClick:W,className:"flex items-center gap-1 px-2 py-1.5 rounded-lg transition-all duration-300 hover:scale-105 bg-deep-50 dark:bg-gray-700 text-white hover:bg-sakura-50 dark:hover:bg-sakura-50 shadow-md text-xs",title:M(D?"navbar.switchToLight":"navbar.switchToDark"),children:[D?(0,r.jsx)(p.Z,{className:"w-3.5 h-3.5"}):(0,r.jsx)(v.Z,{className:"w-3.5 h-3.5"}),(0,r.jsx)("span",{className:"font-medium font-arabic",children:M(D?"navbar.lightMode":"navbar.darkMode")})]})]}),(0,r.jsx)("button",{onClick:()=>a(!e),className:"lg:hidden p-1.5 rounded-lg bg-deep-50 text-white hover:bg-sakura-50 hover:scale-105 transition-all duration-300 shadow-md",children:e?(0,r.jsx)(b.Z,{className:"w-5 h-5"}):(0,r.jsx)(y.Z,{className:"w-5 h-5"})})]}),(0,r.jsx)("div",{className:"hidden lg:flex items-center space-x-6 space-x-reverse flex-1 justify-center order-2",children:R.map(e=>{let a=e.icon;return(0,r.jsxs)(o.default,{href:e.href,onClick:a=>K(a,e.href,e.section),className:"navbar-link-hover group flex items-center space-x-2 space-x-reverse px-3 py-2 rounded-lg transition-all duration-300 hover:scale-105 ".concat(G(e.href,e.section)?"text-sakura-50 bg-sakura-50/10 dark:bg-sakura-50/20 shadow-md border-b-2 border-sakura-50":"text-deep-50 dark:text-gray-200 hover:text-sakura-50 hover:bg-sakura-50/5 dark:hover:bg-sakura-50/10"),children:[(0,r.jsx)("span",{className:"font-medium text-sm lg:text-base font-arabic",children:e.label}),(0,r.jsx)(a,{className:"w-4 h-4 lg:w-5 lg:h-5 group-hover:scale-110 transition-transform duration-300"})]},e.href)})}),(0,r.jsx)("div",{className:"order-3 logo-fixed-right",children:(0,r.jsxs)(o.default,{href:"/",className:"flex items-center space-x-3 space-x-reverse group",children:[(0,r.jsx)("div",{className:"w-12 h-12 md:w-14 md:h-14 lg:w-16 lg:h-16 rounded-full overflow-hidden border-3 border-sakura-50/50 shadow-xl group-hover:shadow-2xl logo-glow transition-all duration-300 flex-shrink-0 bg-white/90",children:(0,r.jsx)("img",{src:"/images/logo+next+too-13-1920w.png",alt:"Sakura Cafe Logo",className:"w-full h-full object-contain p-1 group-hover:scale-110 transition-transform duration-500 filter brightness-110 contrast-110",onError:e=>{e.currentTarget.src="/images/logo.png",e.currentTarget.alt="Sakura Cafe Logo"},loading:"eager"})}),(0,r.jsxs)("div",{className:"flex flex-col items-end text-right",children:[(0,r.jsx)("span",{className:"navbar-brand-glow text-base md:text-lg lg:text-xl font-bold text-deep-50 dark:text-white font-arabic drop-shadow-sm whitespace-nowrap group-hover:text-sakura-50 transition-colors duration-300",children:M("brand.name")}),(0,r.jsx)("span",{className:"text-xs md:text-sm text-sakura-50 dark:text-sakura-200 font-arabic drop-shadow-sm whitespace-nowrap opacity-90",children:M("brand.tagline")})]})]})})]}),Z&&(0,r.jsx)("div",{className:"border-t border-sakura-50/20 dark:border-gray-600/20 bg-white/95 dark:bg-deep-50/95 backdrop-blur-md p-4",children:(0,r.jsxs)("div",{className:"max-w-md mx-auto",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{type:"text",placeholder:M("navbar.searchPlaceholder"),value:T,onChange:e=>I(e.target.value),className:"w-full px-4 py-3 pr-12 rounded-lg border border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:border-sakura-50 focus:ring-2 focus:ring-sakura-50/20 outline-none transition-all duration-300 font-arabic text-right",autoFocus:!0}),(0,r.jsx)(x.Z,{className:"absolute right-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400 dark:text-gray-500"}),(0,r.jsx)("button",{onClick:()=>{z(!1),I("")},className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300",children:(0,r.jsx)(b.Z,{className:"w-5 h-5"})})]}),T&&(0,r.jsxs)("div",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400 text-center font-arabic",children:[M("navbar.searchingFor"),': "',T,'"']})]})}),e&&(0,r.jsx)("div",{className:"lg:hidden border-t border-sakura-50/20 dark:border-gray-600/20 bg-white/95 dark:bg-deep-50/95 backdrop-blur-md",children:(0,r.jsxs)("div",{className:"py-3 space-y-1 max-h-96 overflow-y-auto",children:[X.map(e=>{let t=e.icon;return(0,r.jsxs)(o.default,{href:e.href,onClick:t=>{K(t,e.href,e.section),a(!1)},className:"flex items-center space-x-3 space-x-reverse px-4 py-3 mx-2 rounded-lg transition-all duration-300 ".concat(G(e.href,e.section)?"text-white bg-sakura-50 shadow-md":"text-deep-50 dark:text-gray-200 hover:text-sakura-50 hover:bg-sakura-50/10 dark:hover:bg-sakura-50/20"),children:[(0,r.jsx)(t,{className:"w-5 h-5 flex-shrink-0"}),(0,r.jsx)("span",{className:"font-medium text-sm font-arabic",children:e.label})]},e.href)}),(0,r.jsxs)("div",{className:"px-4 pt-4 border-t border-sakura-50/20 dark:border-gray-600/20 mt-3",children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[(0,r.jsxs)(o.default,{href:"/cart",onClick:()=>a(!1),className:"flex items-center justify-center gap-2 px-3 py-2.5 rounded-lg transition-all duration-300 bg-deep-50 dark:bg-gray-700 text-white hover:bg-sakura-50 dark:hover:bg-sakura-50 text-sm relative z-50",children:[(0,r.jsx)(h.Z,{className:"w-4 h-4"}),(0,r.jsx)("span",{className:"font-medium font-arabic",children:M("navbar.cart")}),U>0&&(0,r.jsx)("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-4 h-4 flex items-center justify-center font-bold",children:U})]}),F?(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center justify-center gap-2 px-3 py-2.5 rounded-lg bg-sakura-50 text-white text-sm",children:[(0,r.jsx)(g.Z,{className:"w-4 h-4"}),(0,r.jsx)("span",{className:"font-medium font-arabic",children:(null==H?void 0:H.fullName)||M("navbar.account")})]}),(0,r.jsxs)("button",{onClick:()=>{a(!1),V()},className:"w-full flex items-center justify-center gap-2 px-3 py-2.5 rounded-lg transition-all duration-300 bg-red-500 text-white hover:bg-red-600 text-sm",children:[(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),(0,r.jsx)("span",{className:"font-medium font-arabic",children:M("navbar.logout")})]})]}):(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)(o.default,{href:"/auth/login",onClick:()=>a(!1),className:"flex items-center justify-center gap-2 px-3 py-2.5 rounded-lg transition-all duration-300 bg-deep-50 dark:bg-gray-700 text-white hover:bg-sakura-50 dark:hover:bg-sakura-50 text-sm",children:[(0,r.jsx)(g.Z,{className:"w-4 h-4"}),(0,r.jsx)("span",{className:"font-medium font-arabic",children:M("navbar.login")})]}),(0,r.jsxs)(o.default,{href:"/auth/register",onClick:()=>a(!1),className:"flex items-center justify-center gap-2 px-3 py-2.5 rounded-lg transition-all duration-300 border border-sakura-50 text-sakura-50 hover:bg-sakura-50 hover:text-white text-sm",children:[(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})}),(0,r.jsx)("span",{className:"font-medium font-arabic",children:M("navbar.register")})]})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,r.jsxs)("button",{onClick:()=>B("ar"===P?"en":"ar"),className:"flex items-center justify-center gap-1.5 px-2.5 py-2 rounded-lg transition-all duration-300 bg-deep-50 text-white hover:bg-sakura-50 text-sm",children:[(0,r.jsx)(f.Z,{className:"w-4 h-4"}),(0,r.jsx)("span",{className:"font-medium font-arabic",children:"ar"===P?"EN":"عربي"})]}),(0,r.jsxs)("button",{onClick:W,className:"flex items-center justify-center gap-1.5 px-2.5 py-2 rounded-lg transition-all duration-300 bg-deep-50 text-white hover:bg-sakura-50 text-sm",children:[D?(0,r.jsx)(p.Z,{className:"w-4 h-4"}):(0,r.jsx)(v.Z,{className:"w-4 h-4"}),(0,r.jsx)("span",{className:"font-medium font-arabic",children:M(D?"navbar.lightMode":"navbar.darkMode")})]})]})]})]})})]}),(0,r.jsx)(S.Z,{isOpen:q,onClose:()=>J(!1),userType:"customer"})]})}},2508:function(e,a,t){var r=t(7437),s=t(2265),o=t(5095),n=t(429),i=t(7165),l=t(338),c=t(4670),d=t(6502),m=t(2548),u=t(3985),h=t(9057);a.Z=e=>{let{isOpen:a,onClose:t,userType:x}=e,[g,b]=(0,s.useState)({username:"",password:""}),[f,p]=(0,s.useState)(!1),[v,y]=(0,s.useState)(!1),[k,j]=(0,s.useState)(""),{login:w}=(0,u.a)(),{t:N,isRTL:S}=(0,h.Z)(),_=async e=>{e.preventDefault(),y(!0),j("");try{await w(g.username,g.password,x),t(),b({username:"",password:""})}catch(e){j(e.message)}finally{y(!1)}},E=e=>{b({...g,[e.target.name]:e.target.value})},C=(()=>{switch(x){case"admin":return{username:"admin",password:"admin123",description:"مدير النظام العام"};case"cashier":return{username:"cashier_sadiyan",password:"cashier123",description:"كاشير فرع صديان (مثال)"};case"customer":return{username:"ahmed_salem",password:"customer123",description:"عميل مسجل (مثال)"};default:return null}})();return(0,r.jsx)(o.M,{children:a&&(0,r.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,r.jsx)(n.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:t}),(0,r.jsxs)(n.E.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"relative bg-white dark:bg-gray-800 rounded-2xl shadow-2xl w-full max-w-md mx-4 overflow-hidden",dir:S?"rtl":"ltr",children:[(0,r.jsxs)("div",{className:"bg-gradient-to-r from-sakura-50 to-deep-50 px-6 py-4 relative",children:[(0,r.jsx)("button",{onClick:t,className:"absolute top-4 left-4 text-white hover:text-gray-200 transition-colors",children:(0,r.jsx)(i.Z,{className:"w-5 h-5"})}),(0,r.jsx)("h2",{className:"text-xl font-bold text-white font-arabic text-center",children:(()=>{switch(x){case"admin":return"تسجيل دخول الإدارة";case"cashier":return"تسجيل دخول الكاشير";case"customer":return"تسجيل دخول العميل";default:return"تسجيل الدخول"}})()})]}),(0,r.jsxs)("div",{className:"p-6",children:[C&&(0,r.jsxs)("div",{className:"mb-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-700",children:[(0,r.jsx)("h4",{className:"text-sm font-semibold text-blue-800 dark:text-blue-200 mb-2 font-arabic",children:"بيانات تجريبية:"}),(0,r.jsx)("p",{className:"text-xs text-blue-600 dark:text-blue-300 mb-2 font-arabic",children:C.description}),(0,r.jsxs)("div",{className:"text-xs text-blue-700 dark:text-blue-300 space-y-1",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"اسم المستخدم:"})," ",C.username]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"كلمة المرور:"})," ",C.password]})]})]}),k&&(0,r.jsx)("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-700 rounded-lg",children:(0,r.jsx)("p",{className:"text-sm text-red-600 dark:text-red-400 font-arabic",children:k})}),(0,r.jsxs)("form",{onSubmit:_,className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 font-arabic",children:"اسم المستخدم"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(l.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,r.jsx)("input",{type:"text",name:"username",value:g.username,onChange:E,className:"w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-sakura-50 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"أدخل اسم المستخدم",required:!0})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 font-arabic",children:"كلمة المرور"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(c.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,r.jsx)("input",{type:f?"text":"password",name:"password",value:g.password,onChange:E,className:"w-full pl-10 pr-12 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-sakura-50 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"أدخل كلمة المرور",required:!0}),(0,r.jsx)("button",{type:"button",onClick:()=>p(!f),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:f?(0,r.jsx)(d.Z,{className:"w-5 h-5"}):(0,r.jsx)(m.Z,{className:"w-5 h-5"})})]})]}),(0,r.jsx)("button",{type:"submit",disabled:v,className:"w-full bg-gradient-to-r from-sakura-50 to-deep-50 text-white py-3 px-4 rounded-lg font-medium transition-all duration-300 hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed font-arabic",children:v?"جاري تسجيل الدخول...":"تسجيل الدخول"})]})]})]})]})})}},2198:function(e,a,t){t.d(a,{Z:function(){return i},j:function(){return n}});var r=t(7437),s=t(2265);let o=(0,s.createContext)(void 0),n=()=>{let e=(0,s.useContext)(o);if(!e)throw Error("useCart must be used within a CartProvider");return e},i=e=>{let{children:a}=e,[t,n]=(0,s.useState)([]),[i,l]=(0,s.useState)(!1);(0,s.useEffect)(()=>{(async()=>{try{let e=localStorage.getItem("user_token"),a=JSON.parse(localStorage.getItem("user_data")||"{}");if(e&&a.id){let t=await fetch("/api/cart/items",{headers:{Authorization:"Bearer ".concat(e),"user-id":a.id}});if(t.ok){let e=await t.json();console.log("✅ تم جلب سلة التسوق من قاعدة البيانات:",e);let a=e.items.map(e=>({id:e.product_id,name:e.product_name,arabicName:e.product_arabic_name||e.product_name||"منتج",price:e.price,quantity:e.quantity,image:e.image,category:e.category,customizations:e.customizations}));n(a);let r=JSON.parse(localStorage.getItem("user_data")||"{}");if(r.id==r.id){let a={...r,loyaltyPoints:e.userPoints||0,pointsExpiryDate:e.pointsExpiryDate};localStorage.setItem("user_data",JSON.stringify(a)),console.log("✅ تم تحديث نقاط المكافآت:",e.userPoints)}}else{console.log("⚠️ لم يتم العثور على سلة تسوق في قاعدة البيانات، جاري تحميل من localStorage");let t=localStorage.getItem("sakura_cart");if(t){let r=JSON.parse(t);n(r);try{for(let t of r)await fetch("/api/cart/items",{method:"POST",headers:{Authorization:"Bearer ".concat(e),"user-id":a.id,"Content-Type":"application/json"},body:JSON.stringify({product_id:t.id,product_name:t.name,product_arabic_name:t.arabicName,price:t.price,quantity:t.quantity,image:t.image,category:t.category,customizations:t.customizations})});console.log("✅ تم رفع السلة المحلية إلى قاعدة البيانات")}catch(e){console.error("❌ فشل في رفع السلة المحلية:",e)}}}}else{let e=localStorage.getItem("sakura_cart");e&&n(JSON.parse(e))}}catch(e){console.error("Error loading cart:",e);try{let e=localStorage.getItem("sakura_cart");e&&n(JSON.parse(e))}catch(e){console.error("Error loading cart from localStorage:",e)}}})()},[]),(0,s.useEffect)(()=>{try{localStorage.setItem("sakura_cart",JSON.stringify(t))}catch(e){console.error("Error saving cart to localStorage:",e)}},[t]);let c=async function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;try{let r=localStorage.getItem("user_token"),s=JSON.parse(localStorage.getItem("user_data")||"{}");if(!r||!s.id){console.log("⚠️ المستخدم غير مسجل دخول، استخدام localStorage");let r=t.findIndex(a=>a.id===e.id&&JSON.stringify(a.customizations)===JSON.stringify(e.customizations));if(-1!==r){let e=[...t];e[r].quantity+=a,n(e)}else{let r={...e,quantity:a,arabicName:e.arabicName||e.name||"منتج"};n([...t,r])}return}let o=await fetch("/api/cart/items",{method:"POST",headers:{Authorization:"Bearer ".concat(r),"user-id":s.id,"Content-Type":"application/json"},body:JSON.stringify({product_id:e.id,product_name:e.name,product_arabic_name:e.arabicName,price:e.price,quantity:a,image:e.image,category:e.category,customizations:e.customizations})});if(o.ok){let e=await o.json();console.log("✅ تم إضافة المنتج إلى سلة التسوق:",e);let a=e.cart.items.map(e=>({id:e.product_id,name:e.product_name,arabicName:e.product_arabic_name||e.product_name||"منتج",price:e.price,quantity:e.quantity,image:e.image,category:e.category,customizations:e.customizations}));n(a),console.log("تم إضافة المنتج إلى سلة التسوق بنجاح")}else{let e=await o.json();console.error("❌ فشل في إضافة المنتج:",e),alert("فشل في إضافة المنتج: ".concat(e.error))}}catch(e){console.error("Error adding to cart:",e),alert("حدث خطأ في إضافة المنتج إلى سلة التسوق")}},d=async e=>{try{let a=localStorage.getItem("user_token"),r=JSON.parse(localStorage.getItem("user_data")||"{}");if(!a||!r.id){console.log("⚠️ المستخدم غير مسجل دخول، استخدام localStorage"),n(t.filter(a=>a.id!==e));return}if(!t.find(a=>a.id===e)){console.error("❌ لم يتم العثور على العنصر في السلة");return}let s=await fetch("/api/cart/items/".concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(a),"user-id":r.id}});if(s.ok){let e=await s.json();console.log("✅ تم حذف المنتج من سلة التسوق:",e);let a=e.cart.items.map(e=>({id:e.product_id,name:e.product_name,arabicName:e.product_arabic_name||e.product_name||"منتج",price:e.price,quantity:e.quantity,image:e.image,category:e.category,customizations:e.customizations}));n(a)}else{let e=await s.json();console.error("❌ فشل في حذف المنتج:",e),alert("فشل في حذف المنتج: ".concat(e.error))}}catch(e){console.error("Error removing from cart:",e),alert("حدث خطأ في حذف المنتج من سلة التسوق")}},m=async(e,a)=>{try{let r=localStorage.getItem("user_token"),s=JSON.parse(localStorage.getItem("user_data")||"{}");if(!r||!s.id){console.log("⚠️ المستخدم غير مسجل دخول، استخدام localStorage"),a<=0?n(t.filter(a=>a.id!==e)):n(t.map(t=>t.id===e?{...t,quantity:a}:t));return}if(!t.find(a=>a.id===e)){console.error("❌ لم يتم العثور على العنصر في السلة");return}let o=await fetch("/api/cart/items/".concat(e),{method:"PUT",headers:{Authorization:"Bearer ".concat(r),"user-id":s.id,"Content-Type":"application/json"},body:JSON.stringify({quantity:a})});if(o.ok){let e=await o.json();console.log("✅ تم تحديث كمية المنتج:",e);let a=e.cart.items.map(e=>({id:e.product_id,name:e.product_name,arabicName:e.product_arabic_name||e.product_name||"منتج",price:e.price,quantity:e.quantity,image:e.image,category:e.category,customizations:e.customizations}));n(a)}else{let e=await o.json();console.error("❌ فشل في تحديث الكمية:",e),alert("فشل في تحديث الكمية: ".concat(e.error))}}catch(e){console.error("Error updating quantity:",e),alert("حدث خطأ في تحديث كمية المنتج")}},u=async()=>{try{let e=localStorage.getItem("user_token"),a=JSON.parse(localStorage.getItem("user_data")||"{}");if(!e||!a.id){alert("الرجاء تسجيل الدخول أولاً");return}let t=await fetch("/api/cart/items",{method:"DELETE",headers:{Authorization:"Bearer ".concat(e),"user-id":a.id}});if(t.ok){let e=await t.json();console.log("✅ تم حذف جميع المنتجات من سلة التسوق:",e),n([])}else{let e=await t.json();console.error("❌ فشل في حذف سلة التسوق:",e),alert("فشل في حذف سلة التسوق: ".concat(e.error))}}catch(e){console.error("Error clearing cart:",e),alert("حدث خطأ في حذف سلة التسوق")}},h=t.reduce((e,a)=>e+a.quantity,0),x=t.reduce((e,a)=>e+a.price*a.quantity,0);return(0,r.jsx)(o.Provider,{value:{items:t,totalItems:h,totalPrice:x,addToCart:c,removeFromCart:d,updateQuantity:m,clearCart:u,isOpen:i,setIsOpen:l},children:a})}},5151:function(e,a,t){t.d(a,{F:function(){return n},f:function(){return i}});var r=t(7437),s=t(2265);let o=(0,s.createContext)(void 0),n=()=>{let e=(0,s.useContext)(o);if(!e)throw Error("useTheme must be used within a ThemeProvider");return e},i=e=>{let{children:a}=e,[t,n]=(0,s.useState)(!0),[i,l]=(0,s.useState)(!1);return((0,s.useEffect)(()=>{let e=localStorage.getItem("sakura-theme");window.matchMedia("(prefers-color-scheme: dark)").matches,"light"===e?(n(!1),document.documentElement.classList.remove("dark")):(n(!0),document.documentElement.classList.add("dark")),l(!0)},[]),i)?(0,r.jsx)(o.Provider,{value:{isDark:t,toggleTheme:()=>{let e=!t;n(e),e?(document.documentElement.classList.add("dark"),localStorage.setItem("sakura-theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("sakura-theme","light"))}},children:a}):(0,r.jsx)("div",{style:{display:"none"},children:a})}}}]);